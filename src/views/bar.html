<div>
  <div>
    <label class="bar-label">Bar: {{ ::$index+1 }}</label>
  </div>
  <div
    layout-fill
    layout="row"
    class="bar">
    <div></div>
    <md-menu>
      <md-button
        class="time-signature-button"
        ng-click="$mdOpenMenu($event)">
        {{ bar.timeSignature.top }}<br>{{ bar.timeSignature.bottom }}
      </md-button>
      <md-menu-content
        width="4"
        class="prefferences md-whiteframe-16dp">
        <md-list>
          <md-list-item
            layout="row"
            class="time-signature-field">
            <label>Time signature</label>
            <md-input-container>
              <input
                type="number"
                min="2"
                max="12"
                step="1"
                ng-model="bar.timeSignature.top">
            </md-input-container>
            <span style="margin: 20px 4px 0 6px;">/</span>
            <md-input-container>
              <md-select
                ng-model="bar.timeSignature.bottom"
                class="time-signature">
                <md-option
                  ng-repeat="value in [2,4,8,16]"
                  ng-value="{{ value }}">
                  {{ value }}
                </md-option>
              </md-select>
            </md-input-container>
          </md-list-item>

          <md-list-item xlayout="row">
            <label>Bars</label>
            <md-input-container>
              <input
                type="number"
                min="1"
                max="12"
                step="1"
                ng-model="bar.length">
            </md-input-container>
          </md-list-item>
        </md-list>
      </md-menu-content>
    </md-menu>
    <div
      ng-repeat="subbeat in barLabels.subbeats | limitTo: barsBlock.timeSignature.top*4"
      layout="column"
      class="subbeat subbeat-{{ ::subbeat.index }}"
      flex>
        <label class="subbeat-label">
          {{ subbeat.name }}
          <!-- <sub>({{ subbeat.index }})</sub> -->
        </label>
        <div class="note-container"></div>
    </div>
    <div class="bar-end">
    </div>
  </div>
</div>