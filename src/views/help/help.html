<md-dialog class="help-dialog">
  <div class="dialog-header">Help</div>

  <md-dialog-content
    layout="row"
    ng-controller="HelpController"
    ng-cloak
    ng-init="
      helpPages = [
        {
          template: 'views/help/bass.html',
          title: 'Bass',
          sections: [
            'Creating Sounds',
            'Sound Properties',
            'Composite Sounds',
            'Slide Sounds'
          ]
        }, {
          template: 'views/help/drums.html',
          title: 'Drums',
          sections: ['Introduction', 'Creating Sounds']
        }
      ]
    "
    class="help-container"
    ng-class="['active-step-'+index.activeStep]">
    <div class="help-index">

      <div
        ng-repeat="item in ::helpPages"
        class="index-item-container"
        size="{{ ::item.sections.length }}"
        ng-class="{expanded: page === item}">
        <div
          class="index-item"
          ng-click="setHelpPage(item)">
          {{ ::item.title }}
        </div>
        <ul
          class="sections"
          ng-if="page === item"
          du-scroll-container="container-{{ ::$index }}">
          <li
            ng-repeat="section in ::item.sections"
            href="#section-{{ ::$index+1 }}"
            du-smooth-scroll
            du-scrollspy>
            {{ ::section }}
          </li>
        </ul>
      </div>

    </div>

    <md-content
      flex
      ng-repeat="item in ::helpPages"
      ng-init="item.containerId = 'container-'+$index"
      xid="container-{{ ::$index }}"
      id="{{ ::item.containerId }}"
      class="content md-padding"
      ng-show="item === page">
      <div flex ng-if="item === page" ng-include="::item.template"></div>
    </md-content>
  </md-dialog-content>
</div>